fun main()=java.io.File("i").readLines().run{val n=mutableSetOf<Pair<Int,Int>>();for(r in joinToString("").toSet().filter{it!='.'})mapIndexed{i,l->l.mapIndexed{j,c->if(c==r)i to j else null}.filterNotNull()}.flatten().let{it.forEach{a->it.forEach{b->indices.forEach{r->get(0).indices.forEach{if((b.first-a.first).toDouble()/(b.second-a.second)==(b.first-r).toDouble()/(b.second-it))n+=r to it}}}}};println(n.size)}