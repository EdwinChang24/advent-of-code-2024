fun main(){val x=setOf("XMAS","SAMX");java.io.File("i").readLines().run{println(sumOf{it.windowed(4).count{it in x}}+indices.sumOf{map{l->l[it]}.joinToString("").windowed(4).count{it in x}}+(0..999).sumOf{i->indices.map{getOrElse(it){""}.getOrElse(i-it){' '}}.joinToString("").windowed(4).count{it in x}}+(-999..999).sumOf{i->indices.map{getOrElse(it+i){""}.getOrElse(it){' '}}.joinToString("").windowed(4).count{it in x}})}}